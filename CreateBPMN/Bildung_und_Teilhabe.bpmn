<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions
  xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL"
  xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"
  xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"
  xmlns:di="http://www.omg.org/spec/DD/20100524/DI"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  targetNamespace="http://example.com/bpmn"
  exporter="GovModeler"
  exporterVersion="1.0" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" modeler:executionPlatform="Camunda Platform" modeler:executionPlatformVersion="7.20.0">

  <!-- Kollaboration: Buerger und Bildungs- und Teilhabestelle -->
  <bpmn:collaboration id="Collab_BildungTeilhabe">
    <bpmn:participant id="Participant_Buerger" name="Buerger" processRef="Process_Buerger_BuT" />
    <bpmn:participant id="Participant_BuTStelle" name="Bildungs- und Teilhabestelle" processRef="Process_BuT_Stelle" />

    <!-- Message Flows (Happy Path) -->
    <bpmn:messageFlow id="MsgFlow_Antrag" name="Antrag Bildung und Teilhabe" sourceRef="Task_Antrag_stellen" targetRef="StartEvent_Antrag_eingegangen" />
    <bpmn:messageFlow id="MsgFlow_Bescheid" name="Bescheid" sourceRef="Task_Bescheid_versenden" targetRef="Task_Bescheid_erhalten" />
  </bpmn:collaboration>

  <!-- Prozess: Buerger -->
  <bpmn:process id="Process_Buerger_BuT" name="Bildung und Teilhabe - Buerger" isExecutable="true">
    <bpmn:startEvent id="StartEvent_Bedarf_festgestellt" name="Bedarf festgestellt">
      <bpmn:outgoing>Flow_Buerger_Start_Antrag</bpmn:outgoing>
    </bpmn:startEvent>

    <bpmn:task id="Task_Antrag_stellen" name="Antrag auf Bildung und Teilhabe stellen">
      <bpmn:incoming>Flow_Buerger_Start_Antrag</bpmn:incoming>
      <bpmn:outgoing>Flow_Buerger_Antrag_Bescheid</bpmn:outgoing>
    </bpmn:task>

    <bpmn:task id="Task_Bescheid_erhalten" name="Bescheid erhalten">
      <bpmn:incoming>Flow_Buerger_Antrag_Bescheid</bpmn:incoming>
      <bpmn:outgoing>Flow_Buerger_Ende</bpmn:outgoing>
    </bpmn:task>

    <bpmn:endEvent id="EndEvent_Buerger_Abgeschlossen" name="Prozess beendet">
      <bpmn:incoming>Flow_Buerger_Ende</bpmn:incoming>
    </bpmn:endEvent>

    <bpmn:sequenceFlow id="Flow_Buerger_Start_Antrag" sourceRef="StartEvent_Bedarf_festgestellt" targetRef="Task_Antrag_stellen" />
    <bpmn:sequenceFlow id="Flow_Buerger_Antrag_Bescheid" sourceRef="Task_Antrag_stellen" targetRef="Task_Bescheid_erhalten" />
    <bpmn:sequenceFlow id="Flow_Buerger_Ende" sourceRef="Task_Bescheid_erhalten" targetRef="EndEvent_Buerger_Abgeschlossen" />
  </bpmn:process>

  <!-- Prozess: Bildungs- und Teilhabestelle -->
  <bpmn:process id="Process_BuT_Stelle" name="Bildung und Teilhabe - Organisation" isExecutable="true">
    <bpmn:startEvent id="StartEvent_Antrag_eingegangen" name="Antrag eingegangen">
      <bpmn:outgoing>Flow_Org_Start_Zustaendigkeit</bpmn:outgoing>
    </bpmn:startEvent>

    <bpmn:task id="Task_Zustaendigkeit_pruefen" name="Zustaendigkeit pruefen">
      <bpmn:incoming>Flow_Org_Start_Zustaendigkeit</bpmn:incoming>
      <bpmn:outgoing>Flow_Org_Zustaendigkeit_Vollstaendigkeit</bpmn:outgoing>
    </bpmn:task>

    <bpmn:task id="Task_Vollstaendigkeit_pruefen" name="Vollstaendigkeit pruefen">
      <bpmn:incoming>Flow_Org_Zustaendigkeit_Vollstaendigkeit</bpmn:incoming>
      <bpmn:outgoing>Flow_Org_Vollstaendigkeit_Anspruch</bpmn:outgoing>
    </bpmn:task>

    <bpmn:task id="Task_Anspruch_pruefen" name="Anspruch pruefen">
      <bpmn:incoming>Flow_Org_Vollstaendigkeit_Anspruch</bpmn:incoming>
      <bpmn:outgoing>Flow_Org_Anspruch_Berechnung</bpmn:outgoing>
    </bpmn:task>

    <bpmn:task id="Task_Leistung_berechnen" name="Leistung berechnen">
      <bpmn:incoming>Flow_Org_Anspruch_Berechnung</bpmn:incoming>
      <bpmn:outgoing>Flow_Org_Berechnung_Bescheid</bpmn:outgoing>
    </bpmn:task>

    <bpmn:task id="Task_Bescheid_erstellen" name="Bescheid erstellen">
      <bpmn:incoming>Flow_Org_Berechnung_Bescheid</bpmn:incoming>
      <bpmn:outgoing>Flow_Org_Bescheid_Versenden</bpmn:outgoing>
    </bpmn:task>

    <bpmn:task id="Task_Bescheid_versenden" name="Bescheid versenden">
      <bpmn:incoming>Flow_Org_Bescheid_Versenden</bpmn:incoming>
      <bpmn:outgoing>Flow_Org_Ende</bpmn:outgoing>
    </bpmn:task>

    <bpmn:endEvent id="EndEvent_Org_Zugestellt" name="Bescheid zugestellt">
      <bpmn:incoming>Flow_Org_Ende</bpmn:incoming>
    </bpmn:endEvent>

    <bpmn:sequenceFlow id="Flow_Org_Start_Zustaendigkeit" sourceRef="StartEvent_Antrag_eingegangen" targetRef="Task_Zustaendigkeit_pruefen" />
    <bpmn:sequenceFlow id="Flow_Org_Zustaendigkeit_Vollstaendigkeit" sourceRef="Task_Zustaendigkeit_pruefen" targetRef="Task_Vollstaendigkeit_pruefen" />
    <bpmn:sequenceFlow id="Flow_Org_Vollstaendigkeit_Anspruch" sourceRef="Task_Vollstaendigkeit_pruefen" targetRef="Task_Anspruch_pruefen" />
    <bpmn:sequenceFlow id="Flow_Org_Anspruch_Berechnung" sourceRef="Task_Anspruch_pruefen" targetRef="Task_Leistung_berechnen" />
    <bpmn:sequenceFlow id="Flow_Org_Berechnung_Bescheid" sourceRef="Task_Leistung_berechnen" targetRef="Task_Bescheid_erstellen" />
    <bpmn:sequenceFlow id="Flow_Org_Bescheid_Versenden" sourceRef="Task_Bescheid_erstellen" targetRef="Task_Bescheid_versenden" />
    <bpmn:sequenceFlow id="Flow_Org_Ende" sourceRef="Task_Bescheid_versenden" targetRef="EndEvent_Org_Zugestellt" />
  </bpmn:process>

  <!-- Messages -->
  <bpmn:message id="Message_Antrag" name="Antrag Bildung und Teilhabe" />
  <bpmn:message id="Message_Bescheid" name="Bescheid" />

  <!-- Diagram Interchange (BPMN-DI) mit praezisen Positionen -->
  <bpmndi:BPMNDiagram id="BPMNDiagram_BildungTeilhabe">
    <bpmndi:BPMNPlane id="BPMNPlane_BildungTeilhabe" bpmnElement="Collab_BildungTeilhabe">

      <!-- Pools -->
      <bpmndi:BPMNShape id="Participant_Buerger_di" bpmnElement="Participant_Buerger" isHorizontal="true">
        <dc:Bounds x="100" y="100" width="900" height="300" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Participant_BuTStelle_di" bpmnElement="Participant_BuTStelle" isHorizontal="true">
        <dc:Bounds x="100" y="450" width="1100" height="300" />
      </bpmndi:BPMNShape>

      <!-- Buerger Shapes -->
      <bpmndi:BPMNShape id="StartEvent_Bedarf_festgestellt_di" bpmnElement="StartEvent_Bedarf_festgestellt">
        <dc:Bounds x="150" y="220" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_Antrag_stellen_di" bpmnElement="Task_Antrag_stellen">
        <dc:Bounds x="220" y="200" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_Bescheid_erhalten_di" bpmnElement="Task_Bescheid_erhalten">
        <dc:Bounds x="400" y="200" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_Buerger_Abgeschlossen_di" bpmnElement="EndEvent_Buerger_Abgeschlossen">
        <dc:Bounds x="540" y="220" width="36" height="36" />
      </bpmndi:BPMNShape>

      <!-- Organisation Shapes -->
      <bpmndi:BPMNShape id="StartEvent_Antrag_eingegangen_di" bpmnElement="StartEvent_Antrag_eingegangen">
        <dc:Bounds x="150" y="550" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_Zustaendigkeit_pruefen_di" bpmnElement="Task_Zustaendigkeit_pruefen">
        <dc:Bounds x="220" y="530" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_Vollstaendigkeit_pruefen_di" bpmnElement="Task_Vollstaendigkeit_pruefen">
        <dc:Bounds x="350" y="530" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_Anspruch_pruefen_di" bpmnElement="Task_Anspruch_pruefen">
        <dc:Bounds x="480" y="530" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_Leistung_berechnen_di" bpmnElement="Task_Leistung_berechnen">
        <dc:Bounds x="610" y="530" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_Bescheid_erstellen_di" bpmnElement="Task_Bescheid_erstellen">
        <dc:Bounds x="740" y="530" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_Bescheid_versenden_di" bpmnElement="Task_Bescheid_versenden">
        <dc:Bounds x="880" y="530" width="120" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_Org_Zugestellt_di" bpmnElement="EndEvent_Org_Zugestellt">
        <dc:Bounds x="1030" y="570" width="36" height="36" />
      </bpmndi:BPMNShape>

      <!-- Sequence Flows Buerger -->
      <bpmndi:BPMNEdge id="Flow_Buerger_Start_Antrag_di" bpmnElement="Flow_Buerger_Start_Antrag">
        <di:waypoint x="186" y="238" />
        <di:waypoint x="220" y="238" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_Buerger_Antrag_Bescheid_di" bpmnElement="Flow_Buerger_Antrag_Bescheid">
        <di:waypoint x="320" y="240" />
        <di:waypoint x="400" y="240" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_Buerger_Ende_di" bpmnElement="Flow_Buerger_Ende">
        <di:waypoint x="500" y="240" />
        <di:waypoint x="540" y="240" />
      </bpmndi:BPMNEdge>

      <!-- Sequence Flows Organisation -->
      <bpmndi:BPMNEdge id="Flow_Org_Start_Zustaendigkeit_di" bpmnElement="Flow_Org_Start_Zustaendigkeit">
        <di:waypoint x="186" y="568" />
        <di:waypoint x="220" y="568" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_Org_Zustaendigkeit_Vollstaendigkeit_di" bpmnElement="Flow_Org_Zustaendigkeit_Vollstaendigkeit">
        <di:waypoint x="320" y="570" />
        <di:waypoint x="350" y="570" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_Org_Vollstaendigkeit_Anspruch_di" bpmnElement="Flow_Org_Vollstaendigkeit_Anspruch">
        <di:waypoint x="450" y="570" />
        <di:waypoint x="480" y="570" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_Org_Anspruch_Berechnung_di" bpmnElement="Flow_Org_Anspruch_Berechnung">
        <di:waypoint x="580" y="570" />
        <di:waypoint x="610" y="570" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_Org_Berechnung_Bescheid_di" bpmnElement="Flow_Org_Berechnung_Bescheid">
        <di:waypoint x="710" y="570" />
        <di:waypoint x="740" y="570" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_Org_Bescheid_Versenden_di" bpmnElement="Flow_Org_Bescheid_Versenden">
        <di:waypoint x="840" y="570" />
        <di:waypoint x="880" y="570" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_Org_Ende_di" bpmnElement="Flow_Org_Ende">
        <di:waypoint x="1000" y="570" />
        <di:waypoint x="1030" y="588" />
      </bpmndi:BPMNEdge>

      <!-- Message Flows (y=415 Zwischenebene) -->
      <bpmndi:BPMNEdge id="MsgFlow_Antrag_di" bpmnElement="MsgFlow_Antrag">
        <di:waypoint x="270" y="280" />
        <di:waypoint x="270" y="415" />
        <di:waypoint x="168" y="415" />
        <di:waypoint x="168" y="550" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="MsgFlow_Bescheid_di" bpmnElement="MsgFlow_Bescheid">
        <di:waypoint x="940" y="570" />
        <di:waypoint x="940" y="415" />
        <di:waypoint x="450" y="415" />
        <di:waypoint x="450" y="280" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
