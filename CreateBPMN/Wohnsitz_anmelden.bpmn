<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions
  xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL"
  xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"
  xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"
  xmlns:di="http://www.omg.org/spec/DD/20100524/DI"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:camunda="http://camunda.org/schema/1.0/bpmn"
  targetNamespace="http://example.com/bpmn"
  exporter="GitHub-Copilot-GovModeler"
  exporterVersion="2.0"
  modeler:executionPlatform="Camunda Platform"
  modeler:executionPlatformVersion="7.20.0">

  <!-- =====================================================
       COLLABORATION - Wohnsitz anmelden
       ===================================================== -->
  <bpmn:collaboration id="Collab_Wohnsitz_anmelden">
    
    <!-- Participant: Bürger -->
    <bpmn:participant id="Participant_Buerger"
                      name="Buerger"
                      processRef="Process_Buerger" />
    
    <!-- Participant: IT -->
    <bpmn:participant id="Participant_IT"
                      name="IT"
                      processRef="Process_IT" />
    
    <!-- Participant: Meldebehörde -->
    <bpmn:participant id="Participant_Meldebehoerde"
                      name="Meldebehoerde"
                      processRef="Process_Meldebehoerde" />
    
    <!-- Message Flows -->
    <bpmn:messageFlow id="MsgFlow_Anmeldung"
                      name="Anmeldung einreichen"
                      sourceRef="Task_Anmeldung_einreichen"
                      targetRef="StartEvent_Anmeldung_eingegangen" />
    
    <bpmn:messageFlow id="MsgFlow_IT_Anfrage"
                      name="Datenanfrage"
                      sourceRef="Task_Unterlagen_sichten"
                      targetRef="StartEvent_IT" />
    
    <bpmn:messageFlow id="MsgFlow_IT_Daten"
                      name="Meldedaten"
                      sourceRef="Task_Daten_im_Melderegister_erfassen"
                      targetRef="Event_Daten_erhalten" />
    
    <bpmn:messageFlow id="MsgFlow_Bestaetigung"
                      name="Meldebescheinigung"
                      sourceRef="Task_Anmeldung_bestaetigen"
                      targetRef="Event_Bestaetigung_erhalten" />
  </bpmn:collaboration>

  <!-- =====================================================
       BÜRGER PROZESS
       ===================================================== -->
  <bpmn:process id="Process_Buerger"
                name="Wohnsitz_anmelden_Buerger"
                isExecutable="true">
    
    <!-- Start Event -->
    <bpmn:startEvent id="StartEvent_Buerger" name="Wohnsitz bezogen">
      <bpmn:outgoing>Flow_Start_Formular</bpmn:outgoing>
    </bpmn:startEvent>
    
    <!-- User Task: Anmeldeformular ausfüllen -->
    <bpmn:userTask id="Task_Anmeldeformular_ausfuellen" name="Anmeldeformular ausfuellen">
      <bpmn:incoming>Flow_Start_Formular</bpmn:incoming>
      <bpmn:outgoing>Flow_Formular_Einreichen</bpmn:outgoing>
    </bpmn:userTask>
    
    <!-- User Task: Anmeldung einreichen -->
    <bpmn:userTask id="Task_Anmeldung_einreichen" name="Anmeldung einreichen">
      <bpmn:incoming>Flow_Formular_Einreichen</bpmn:incoming>
      <bpmn:outgoing>Flow_Einreichen_Warten</bpmn:outgoing>
    </bpmn:userTask>
    
    <!-- Intermediate Catch Event: Bestätigung erhalten -->
    <bpmn:intermediateCatchEvent id="Event_Bestaetigung_erhalten" name="Meldebescheinigung erhalten">
      <bpmn:incoming>Flow_Einreichen_Warten</bpmn:incoming>
      <bpmn:outgoing>Flow_Bestaetigung_Ende</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDef_Bestaetigung" messageRef="Message_Bestaetigung" />
    </bpmn:intermediateCatchEvent>
    
    <!-- End Event -->
    <bpmn:endEvent id="EndEvent_Buerger" name="Wohnsitz angemeldet">
      <bpmn:incoming>Flow_Bestaetigung_Ende</bpmn:incoming>
    </bpmn:endEvent>
    
    <!-- Sequence Flows - Bürger -->
    <bpmn:sequenceFlow id="Flow_Start_Formular"
                       sourceRef="StartEvent_Buerger"
                       targetRef="Task_Anmeldeformular_ausfuellen" />
    
    <bpmn:sequenceFlow id="Flow_Formular_Einreichen"
                       sourceRef="Task_Anmeldeformular_ausfuellen"
                       targetRef="Task_Anmeldung_einreichen" />
    
    <bpmn:sequenceFlow id="Flow_Einreichen_Warten"
                       sourceRef="Task_Anmeldung_einreichen"
                       targetRef="Event_Bestaetigung_erhalten" />
    
    <bpmn:sequenceFlow id="Flow_Bestaetigung_Ende"
                       sourceRef="Event_Bestaetigung_erhalten"
                       targetRef="EndEvent_Buerger" />
  </bpmn:process>

  <!-- =====================================================
       IT PROZESS
       ===================================================== -->
  <bpmn:process id="Process_IT"
                name="IT_Prozess"
                isExecutable="true">
    
    <!-- Start Event -->
    <bpmn:startEvent id="StartEvent_IT" name="Datenanfrage erhalten">
      <bpmn:outgoing>Flow_IT_Start_Zustaendigkeit</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDef_IT_Anfrage" messageRef="Message_IT_Anfrage" />
    </bpmn:startEvent>
    
    <!-- Service Task: Zuständigkeit prüfen -->
    <bpmn:serviceTask id="Task_Zustaendigkeit_pruefen" name="Zustaendigkeit pruefen">
      <bpmn:incoming>Flow_IT_Start_Zustaendigkeit</bpmn:incoming>
      <bpmn:outgoing>Flow_Zustaendigkeit_Vollstaendigkeit</bpmn:outgoing>
    </bpmn:serviceTask>
    
    <!-- Service Task: Vollständigkeit prüfen -->
    <bpmn:serviceTask id="Task_Vollstaendigkeit_pruefen" name="Vollstaendigkeit pruefen">
      <bpmn:incoming>Flow_Zustaendigkeit_Vollstaendigkeit</bpmn:incoming>
      <bpmn:outgoing>Flow_Vollstaendigkeit_Erfassen</bpmn:outgoing>
    </bpmn:serviceTask>
    
    <!-- Service Task: Daten im Melderegister erfassen -->
    <bpmn:serviceTask id="Task_Daten_im_Melderegister_erfassen" name="Daten im Melderegister erfassen">
      <bpmn:incoming>Flow_Vollstaendigkeit_Erfassen</bpmn:incoming>
      <bpmn:outgoing>Flow_Erfassen_Ende</bpmn:outgoing>
    </bpmn:serviceTask>
    
    <!-- End Event -->
    <bpmn:endEvent id="EndEvent_IT" name="Daten erfasst">
      <bpmn:incoming>Flow_Erfassen_Ende</bpmn:incoming>
    </bpmn:endEvent>
    
    <!-- Sequence Flows - IT -->
    <bpmn:sequenceFlow id="Flow_IT_Start_Zustaendigkeit"
                       sourceRef="StartEvent_IT"
                       targetRef="Task_Zustaendigkeit_pruefen" />
    
    <bpmn:sequenceFlow id="Flow_Zustaendigkeit_Vollstaendigkeit"
                       sourceRef="Task_Zustaendigkeit_pruefen"
                       targetRef="Task_Vollstaendigkeit_pruefen" />
    
    <bpmn:sequenceFlow id="Flow_Vollstaendigkeit_Erfassen"
                       sourceRef="Task_Vollstaendigkeit_pruefen"
                       targetRef="Task_Daten_im_Melderegister_erfassen" />
    
    <bpmn:sequenceFlow id="Flow_Erfassen_Ende"
                       sourceRef="Task_Daten_im_Melderegister_erfassen"
                       targetRef="EndEvent_IT" />
  </bpmn:process>

  <!-- =====================================================
       MELDEBEHÖRDE PROZESS
       ===================================================== -->
  <bpmn:process id="Process_Meldebehoerde"
                name="Wohnsitz_anmelden_Meldebehoerde"
                isExecutable="true">
    
    <!-- Start Event -->
    <bpmn:startEvent id="StartEvent_Anmeldung_eingegangen" name="Anmeldung eingegangen">
      <bpmn:outgoing>Flow_Start_Sichten</bpmn:outgoing>
    </bpmn:startEvent>
    
    <!-- User Task: Unterlagen sichten -->
    <bpmn:userTask id="Task_Unterlagen_sichten" name="Unterlagen sichten">
      <bpmn:incoming>Flow_Start_Sichten</bpmn:incoming>
      <bpmn:outgoing>Flow_Sichten_Warten</bpmn:outgoing>
    </bpmn:userTask>
    
    <!-- Intermediate Catch Event: Daten erhalten -->
    <bpmn:intermediateCatchEvent id="Event_Daten_erhalten" name="Meldedaten erhalten">
      <bpmn:incoming>Flow_Sichten_Warten</bpmn:incoming>
      <bpmn:outgoing>Flow_Daten_Bestaetigen</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDef_Daten" messageRef="Message_Daten" />
    </bpmn:intermediateCatchEvent>
    
    <!-- User Task: Anmeldung bestätigen -->
    <bpmn:userTask id="Task_Anmeldung_bestaetigen" name="Anmeldung bestaetigen">
      <bpmn:incoming>Flow_Daten_Bestaetigen</bpmn:incoming>
      <bpmn:outgoing>Flow_Bestaetigen_Ende</bpmn:outgoing>
    </bpmn:userTask>
    
    <!-- End Event -->
    <bpmn:endEvent id="EndEvent_Meldebehoerde" name="Anmeldung abgeschlossen">
      <bpmn:incoming>Flow_Bestaetigen_Ende</bpmn:incoming>
    </bpmn:endEvent>
    
    <!-- Sequence Flows - Meldebehörde -->
    <bpmn:sequenceFlow id="Flow_Start_Sichten"
                       sourceRef="StartEvent_Anmeldung_eingegangen"
                       targetRef="Task_Unterlagen_sichten" />
    
    <bpmn:sequenceFlow id="Flow_Sichten_Warten"
                       sourceRef="Task_Unterlagen_sichten"
                       targetRef="Event_Daten_erhalten" />
    
    <bpmn:sequenceFlow id="Flow_Daten_Bestaetigen"
                       sourceRef="Event_Daten_erhalten"
                       targetRef="Task_Anmeldung_bestaetigen" />
    
    <bpmn:sequenceFlow id="Flow_Bestaetigen_Ende"
                       sourceRef="Task_Anmeldung_bestaetigen"
                       targetRef="EndEvent_Meldebehoerde" />
  </bpmn:process>

  <!-- =====================================================
       MESSAGE DEFINITIONEN
       ===================================================== -->
  <bpmn:message id="Message_Anmeldung" name="Anmeldung" />
  <bpmn:message id="Message_IT_Anfrage" name="Datenanfrage" />
  <bpmn:message id="Message_Daten" name="Meldedaten" />
  <bpmn:message id="Message_Bestaetigung" name="Meldebescheinigung" />

  <!-- =====================================================
       BPMN-DI VISUALISIERUNG
       ===================================================== -->
  <bpmndi:BPMNDiagram id="BPMNDiagram_Wohnsitz_anmelden">
    <bpmndi:BPMNPlane id="BPMNPlane_Wohnsitz_anmelden" bpmnElement="Collab_Wohnsitz_anmelden">
      
      <!-- ===============================
           POOL: BÜRGER
           =============================== -->
      <bpmndi:BPMNShape id="Participant_Buerger_di" bpmnElement="Participant_Buerger" isHorizontal="true">
        <dc:Bounds x="160" y="80" width="1200" height="250" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="170" y="185" width="20" height="50" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      
      <!-- Bürger Process Elements -->
      <bpmndi:BPMNShape id="StartEvent_Buerger_di" bpmnElement="StartEvent_Buerger">
        <dc:Bounds x="222" y="182" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="200" y="225" width="80" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Task_Anmeldeformular_ausfuellen_di" bpmnElement="Task_Anmeldeformular_ausfuellen">
        <dc:Bounds x="310" y="160" width="100" height="80" />
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Task_Anmeldung_einreichen_di" bpmnElement="Task_Anmeldung_einreichen">
        <dc:Bounds x="470" y="160" width="100" height="80" />
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Event_Bestaetigung_erhalten_di" bpmnElement="Event_Bestaetigung_erhalten">
        <dc:Bounds x="632" y="182" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="610" y="225" width="80" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="EndEvent_Buerger_di" bpmnElement="EndEvent_Buerger">
        <dc:Bounds x="732" y="182" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="710" y="225" width="80" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      
      <!-- ===============================
           POOL: IT
           =============================== -->
      <bpmndi:BPMNShape id="Participant_IT_di" bpmnElement="Participant_IT" isHorizontal="true">
        <dc:Bounds x="160" y="370" width="1200" height="250" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="170" y="475" width="20" height="30" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      
      <!-- IT Process Elements -->
      <bpmndi:BPMNShape id="StartEvent_IT_di" bpmnElement="StartEvent_IT">
        <dc:Bounds x="222" y="477" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="200" y="520" width="80" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Task_Zustaendigkeit_pruefen_di" bpmnElement="Task_Zustaendigkeit_pruefen">
        <dc:Bounds x="310" y="455" width="100" height="80" />
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Task_Vollstaendigkeit_pruefen_di" bpmnElement="Task_Vollstaendigkeit_pruefen">
        <dc:Bounds x="470" y="455" width="100" height="80" />
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Task_Daten_im_Melderegister_erfassen_di" bpmnElement="Task_Daten_im_Melderegister_erfassen">
        <dc:Bounds x="630" y="455" width="100" height="80" />
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="EndEvent_IT_di" bpmnElement="EndEvent_IT">
        <dc:Bounds x="792" y="477" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="770" y="520" width="80" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      
      <!-- ===============================
           POOL: MELDEBEHÖRDE
           =============================== -->
      <bpmndi:BPMNShape id="Participant_Meldebehoerde_di" bpmnElement="Participant_Meldebehoerde" isHorizontal="true">
        <dc:Bounds x="160" y="660" width="1200" height="250" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="170" y="745" width="20" height="90" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      
      <!-- Meldebehörde Process Elements -->
      <bpmndi:BPMNShape id="StartEvent_Anmeldung_eingegangen_di" bpmnElement="StartEvent_Anmeldung_eingegangen">
        <dc:Bounds x="222" y="782" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="200" y="825" width="80" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Task_Unterlagen_sichten_di" bpmnElement="Task_Unterlagen_sichten">
        <dc:Bounds x="310" y="760" width="100" height="80" />
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Event_Daten_erhalten_di" bpmnElement="Event_Daten_erhalten">
        <dc:Bounds x="472" y="782" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="450" y="825" width="80" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Task_Anmeldung_bestaetigen_di" bpmnElement="Task_Anmeldung_bestaetigen">
        <dc:Bounds x="560" y="760" width="100" height="80" />
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="EndEvent_Meldebehoerde_di" bpmnElement="EndEvent_Meldebehoerde">
        <dc:Bounds x="712" y="782" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="690" y="825" width="80" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      
      <!-- ===============================
           SEQUENCE FLOWS - BÜRGER
           =============================== -->
      <bpmndi:BPMNEdge id="Flow_Start_Formular_di" bpmnElement="Flow_Start_Formular">
        <di:waypoint x="258" y="200" />
        <di:waypoint x="310" y="200" />
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_Formular_Einreichen_di" bpmnElement="Flow_Formular_Einreichen">
        <di:waypoint x="410" y="200" />
        <di:waypoint x="470" y="200" />
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_Einreichen_Warten_di" bpmnElement="Flow_Einreichen_Warten">
        <di:waypoint x="570" y="200" />
        <di:waypoint x="632" y="200" />
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_Bestaetigung_Ende_di" bpmnElement="Flow_Bestaetigung_Ende">
        <di:waypoint x="668" y="200" />
        <di:waypoint x="732" y="200" />
      </bpmndi:BPMNEdge>
      
      <!-- ===============================
           SEQUENCE FLOWS - IT
           =============================== -->
      <bpmndi:BPMNEdge id="Flow_IT_Start_Zustaendigkeit_di" bpmnElement="Flow_IT_Start_Zustaendigkeit">
        <di:waypoint x="258" y="495" />
        <di:waypoint x="310" y="495" />
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_Zustaendigkeit_Vollstaendigkeit_di" bpmnElement="Flow_Zustaendigkeit_Vollstaendigkeit">
        <di:waypoint x="410" y="495" />
        <di:waypoint x="470" y="495" />
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_Vollstaendigkeit_Erfassen_di" bpmnElement="Flow_Vollstaendigkeit_Erfassen">
        <di:waypoint x="570" y="495" />
        <di:waypoint x="630" y="495" />
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_Erfassen_Ende_di" bpmnElement="Flow_Erfassen_Ende">
        <di:waypoint x="730" y="495" />
        <di:waypoint x="792" y="495" />
      </bpmndi:BPMNEdge>
      
      <!-- ===============================
           SEQUENCE FLOWS - MELDEBEHÖRDE
           =============================== -->
      <bpmndi:BPMNEdge id="Flow_Start_Sichten_di" bpmnElement="Flow_Start_Sichten">
        <di:waypoint x="258" y="800" />
        <di:waypoint x="310" y="800" />
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_Sichten_Warten_di" bpmnElement="Flow_Sichten_Warten">
        <di:waypoint x="410" y="800" />
        <di:waypoint x="472" y="800" />
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_Daten_Bestaetigen_di" bpmnElement="Flow_Daten_Bestaetigen">
        <di:waypoint x="508" y="800" />
        <di:waypoint x="560" y="800" />
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_Bestaetigen_Ende_di" bpmnElement="Flow_Bestaetigen_Ende">
        <di:waypoint x="660" y="800" />
        <di:waypoint x="712" y="800" />
      </bpmndi:BPMNEdge>
      
      <!-- ===============================
           MESSAGE FLOWS
           =============================== -->
      <bpmndi:BPMNEdge id="MsgFlow_Anmeldung_di" bpmnElement="MsgFlow_Anmeldung">
        <di:waypoint x="520" y="240" />
        <di:waypoint x="520" y="500" />
        <di:waypoint x="240" y="500" />
        <di:waypoint x="240" y="782" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="350" y="480" width="80" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="MsgFlow_IT_Anfrage_di" bpmnElement="MsgFlow_IT_Anfrage">
        <di:waypoint x="360" y="760" />
        <di:waypoint x="360" y="650" />
        <di:waypoint x="240" y="650" />
        <di:waypoint x="240" y="513" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="270" y="630" width="70" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="MsgFlow_IT_Daten_di" bpmnElement="MsgFlow_IT_Daten">
        <di:waypoint x="680" y="535" />
        <di:waypoint x="680" y="650" />
        <di:waypoint x="490" y="650" />
        <di:waypoint x="490" y="782" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="555" y="630" width="70" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="MsgFlow_Bestaetigung_di" bpmnElement="MsgFlow_Bestaetigung">
        <di:waypoint x="610" y="760" />
        <di:waypoint x="610" y="500" />
        <di:waypoint x="650" y="500" />
        <di:waypoint x="650" y="218" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="555" y="480" width="90" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>

</bpmn:definitions>
